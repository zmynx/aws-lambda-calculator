"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.formatErrorMessage = formatErrorMessage;
/**
 * Takes in an error and returns a correctly formatted string of its error message.
 * If it is an AggregateError, it will return a string with all the inner errors
 * formatted and separated by a newline.
 *
 * @param error The error to format
 * @returns A string with the error message(s) of the error
 */
function formatErrorMessage(error) {
    if (error && Array.isArray(error.errors)) {
        const innerMessages = error.errors
            .map((innerError) => (innerError?.message || innerError?.toString()))
            .join('\n');
        return `AggregateError: ${innerMessages}`;
    }
    // Fallback for regular Error or other types
    return error?.message || error?.toString() || 'Unknown error';
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJlcnJvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQVFBLGdEQVVDO0FBbEJEOzs7Ozs7O0dBT0c7QUFDSCxTQUFnQixrQkFBa0IsQ0FBQyxLQUFVO0lBQzNDLElBQUksS0FBSyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7UUFDekMsTUFBTSxhQUFhLEdBQUcsS0FBSyxDQUFDLE1BQU07YUFDL0IsR0FBRyxDQUFDLENBQUMsVUFBaUQsRUFBRSxFQUFFLENBQUMsQ0FBQyxVQUFVLEVBQUUsT0FBTyxJQUFJLFVBQVUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDO2FBQzNHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNkLE9BQU8sbUJBQW1CLGFBQWEsRUFBRSxDQUFDO0lBQzVDLENBQUM7SUFFRCw0Q0FBNEM7SUFDNUMsT0FBTyxLQUFLLEVBQUUsT0FBTyxJQUFJLEtBQUssRUFBRSxRQUFRLEVBQUUsSUFBSSxlQUFlLENBQUM7QUFDaEUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGFrZXMgaW4gYW4gZXJyb3IgYW5kIHJldHVybnMgYSBjb3JyZWN0bHkgZm9ybWF0dGVkIHN0cmluZyBvZiBpdHMgZXJyb3IgbWVzc2FnZS5cbiAqIElmIGl0IGlzIGFuIEFnZ3JlZ2F0ZUVycm9yLCBpdCB3aWxsIHJldHVybiBhIHN0cmluZyB3aXRoIGFsbCB0aGUgaW5uZXIgZXJyb3JzXG4gKiBmb3JtYXR0ZWQgYW5kIHNlcGFyYXRlZCBieSBhIG5ld2xpbmUuXG4gKlxuICogQHBhcmFtIGVycm9yIFRoZSBlcnJvciB0byBmb3JtYXRcbiAqIEByZXR1cm5zIEEgc3RyaW5nIHdpdGggdGhlIGVycm9yIG1lc3NhZ2Uocykgb2YgdGhlIGVycm9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRFcnJvck1lc3NhZ2UoZXJyb3I6IGFueSk6IHN0cmluZyB7XG4gIGlmIChlcnJvciAmJiBBcnJheS5pc0FycmF5KGVycm9yLmVycm9ycykpIHtcbiAgICBjb25zdCBpbm5lck1lc3NhZ2VzID0gZXJyb3IuZXJyb3JzXG4gICAgICAubWFwKChpbm5lckVycm9yOiB7IG1lc3NhZ2U6IGFueTsgdG9TdHJpbmc6ICgpID0+IGFueSB9KSA9PiAoaW5uZXJFcnJvcj8ubWVzc2FnZSB8fCBpbm5lckVycm9yPy50b1N0cmluZygpKSlcbiAgICAgIC5qb2luKCdcXG4nKTtcbiAgICByZXR1cm4gYEFnZ3JlZ2F0ZUVycm9yOiAke2lubmVyTWVzc2FnZXN9YDtcbiAgfVxuXG4gIC8vIEZhbGxiYWNrIGZvciByZWd1bGFyIEVycm9yIG9yIG90aGVyIHR5cGVzXG4gIHJldHVybiBlcnJvcj8ubWVzc2FnZSB8fCBlcnJvcj8udG9TdHJpbmcoKSB8fCAnVW5rbm93biBlcnJvcic7XG59XG4iXX0=