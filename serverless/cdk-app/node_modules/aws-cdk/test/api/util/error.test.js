"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const error_1 = require("../../../lib/util/error");
describe('formatErrorMessage', () => {
    test('should return the formatted message for a regular Error object', () => {
        const error = new Error('Something went wrong');
        const result = (0, error_1.formatErrorMessage)(error);
        expect(result).toBe('Something went wrong');
    });
    test('should return the formatted message for an AggregateError', () => {
        const error = {
            errors: [
                new Error('Inner error 1'),
                new Error('Inner error 2'),
                new Error('Inner error 3'),
            ],
        };
        const result = (0, error_1.formatErrorMessage)(error);
        expect(result).toBe('AggregateError: Inner error 1\nInner error 2\nInner error 3');
    });
    test('should return "Unknown error" for null or undefined error', () => {
        expect((0, error_1.formatErrorMessage)(null)).toBe('Unknown error');
        expect((0, error_1.formatErrorMessage)(undefined)).toBe('Unknown error');
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3IudGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImVycm9yLnRlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxtREFBNkQ7QUFFN0QsUUFBUSxDQUFDLG9CQUFvQixFQUFFLEdBQUcsRUFBRTtJQUNsQyxJQUFJLENBQUMsZ0VBQWdFLEVBQUUsR0FBRyxFQUFFO1FBQzFFLE1BQU0sS0FBSyxHQUFHLElBQUksS0FBSyxDQUFDLHNCQUFzQixDQUFDLENBQUM7UUFDaEQsTUFBTSxNQUFNLEdBQUcsSUFBQSwwQkFBa0IsRUFBQyxLQUFLLENBQUMsQ0FBQztRQUN6QyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUM7SUFDOUMsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFJLENBQUMsMkRBQTJELEVBQUUsR0FBRyxFQUFFO1FBQ3JFLE1BQU0sS0FBSyxHQUFHO1lBQ1osTUFBTSxFQUFFO2dCQUNOLElBQUksS0FBSyxDQUFDLGVBQWUsQ0FBQztnQkFDMUIsSUFBSSxLQUFLLENBQUMsZUFBZSxDQUFDO2dCQUMxQixJQUFJLEtBQUssQ0FBQyxlQUFlLENBQUM7YUFDM0I7U0FDRixDQUFDO1FBQ0YsTUFBTSxNQUFNLEdBQUcsSUFBQSwwQkFBa0IsRUFBQyxLQUFLLENBQUMsQ0FBQztRQUN6QyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLDZEQUE2RCxDQUFDLENBQUM7SUFDckYsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFJLENBQUMsMkRBQTJELEVBQUUsR0FBRyxFQUFFO1FBQ3JFLE1BQU0sQ0FBQyxJQUFBLDBCQUFrQixFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQ3ZELE1BQU0sQ0FBQyxJQUFBLDBCQUFrQixFQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQzlELENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmb3JtYXRFcnJvck1lc3NhZ2UgfSBmcm9tICcuLi8uLi8uLi9saWIvdXRpbC9lcnJvcic7XG5cbmRlc2NyaWJlKCdmb3JtYXRFcnJvck1lc3NhZ2UnLCAoKSA9PiB7XG4gIHRlc3QoJ3Nob3VsZCByZXR1cm4gdGhlIGZvcm1hdHRlZCBtZXNzYWdlIGZvciBhIHJlZ3VsYXIgRXJyb3Igb2JqZWN0JywgKCkgPT4ge1xuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZycpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGZvcm1hdEVycm9yTWVzc2FnZShlcnJvcik7XG4gICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnU29tZXRoaW5nIHdlbnQgd3JvbmcnKTtcbiAgfSk7XG5cbiAgdGVzdCgnc2hvdWxkIHJldHVybiB0aGUgZm9ybWF0dGVkIG1lc3NhZ2UgZm9yIGFuIEFnZ3JlZ2F0ZUVycm9yJywgKCkgPT4ge1xuICAgIGNvbnN0IGVycm9yID0ge1xuICAgICAgZXJyb3JzOiBbXG4gICAgICAgIG5ldyBFcnJvcignSW5uZXIgZXJyb3IgMScpLFxuICAgICAgICBuZXcgRXJyb3IoJ0lubmVyIGVycm9yIDInKSxcbiAgICAgICAgbmV3IEVycm9yKCdJbm5lciBlcnJvciAzJyksXG4gICAgICBdLFxuICAgIH07XG4gICAgY29uc3QgcmVzdWx0ID0gZm9ybWF0RXJyb3JNZXNzYWdlKGVycm9yKTtcbiAgICBleHBlY3QocmVzdWx0KS50b0JlKCdBZ2dyZWdhdGVFcnJvcjogSW5uZXIgZXJyb3IgMVxcbklubmVyIGVycm9yIDJcXG5Jbm5lciBlcnJvciAzJyk7XG4gIH0pO1xuXG4gIHRlc3QoJ3Nob3VsZCByZXR1cm4gXCJVbmtub3duIGVycm9yXCIgZm9yIG51bGwgb3IgdW5kZWZpbmVkIGVycm9yJywgKCkgPT4ge1xuICAgIGV4cGVjdChmb3JtYXRFcnJvck1lc3NhZ2UobnVsbCkpLnRvQmUoJ1Vua25vd24gZXJyb3InKTtcbiAgICBleHBlY3QoZm9ybWF0RXJyb3JNZXNzYWdlKHVuZGVmaW5lZCkpLnRvQmUoJ1Vua25vd24gZXJyb3InKTtcbiAgfSk7XG59KTtcbiJdfQ==