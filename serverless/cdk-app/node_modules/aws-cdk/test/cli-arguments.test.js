"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const convert_to_user_input_1 = require("../lib/convert-to-user-input");
const parse_command_line_arguments_1 = require("../lib/parse-command-line-arguments");
describe('yargs', () => {
    test('yargs object can be converted to cli arguments', async () => {
        const input = await (0, parse_command_line_arguments_1.parseCommandLineArguments)(['deploy', '-R', '-v', '--ci']);
        const result = (0, convert_to_user_input_1.convertYargsToUserInput)(input);
        expect(result).toEqual({
            command: 'deploy',
            globalOptions: {
                app: undefined,
                assetMetadata: undefined,
                build: undefined,
                caBundlePath: undefined,
                context: [],
                ignoreErrors: false,
                noColor: false,
                pathMetadata: undefined,
                plugin: [],
                profile: undefined,
                proxy: undefined,
                roleArn: undefined,
                staging: true,
                strict: undefined,
                verbose: 1,
                versionReporting: undefined,
                ci: true,
                debug: false,
                ec2creds: undefined,
                json: false,
                lookups: true,
                trace: undefined,
                unstable: [],
                notices: undefined,
                output: undefined,
            },
            deploy: {
                STACKS: undefined,
                all: false,
                assetParallelism: undefined,
                assetPrebuild: true,
                buildExclude: [],
                changeSetName: undefined,
                concurrency: 1,
                execute: undefined,
                exclusively: undefined,
                force: false,
                hotswap: undefined,
                hotswapFallback: undefined,
                ignoreNoStacks: false,
                importExistingResources: false,
                logs: true,
                method: undefined,
                notificationArns: undefined,
                outputsFile: undefined,
                parameters: [{}],
                previousParameters: true,
                progress: undefined,
                requireApproval: undefined,
                rollback: false,
                tags: [],
                toolkitStackName: undefined,
                watch: undefined,
            },
        });
    });
    test('positional argument is correctly passed through -- variadic', async () => {
        const input = await (0, parse_command_line_arguments_1.parseCommandLineArguments)(['deploy', 'stack1', 'stack2', '-R', '-v', '--ci']);
        const result = (0, convert_to_user_input_1.convertYargsToUserInput)(input);
        expect(result).toEqual({
            command: 'deploy',
            deploy: expect.objectContaining({
                STACKS: ['stack1', 'stack2'],
            }),
            globalOptions: expect.anything(),
        });
    });
    test('positional argument is correctly passed through -- single', async () => {
        const input = await (0, parse_command_line_arguments_1.parseCommandLineArguments)(['acknowledge', 'id1', '-v', '--ci']);
        const result = (0, convert_to_user_input_1.convertYargsToUserInput)(input);
        expect(result).toEqual({
            command: 'acknowledge',
            acknowledge: expect.objectContaining({
                ID: 'id1',
            }),
            globalOptions: expect.anything(),
        });
    });
});
describe('config', () => {
    test('cdk.json arguments can be converted to cli argumets', async () => {
        const input = {
            output: 'blah.out',
            build: 'yarn build',
            list: {
                long: true,
            },
            bootstrap: {
                bootstrapBucketName: 'bucketName',
            },
        };
        const result = (0, convert_to_user_input_1.convertConfigToUserInput)(input);
        expect(result).toEqual({
            globalOptions: expect.objectContaining({
                output: 'blah.out',
                build: 'yarn build',
            }),
            list: expect.objectContaining({
                long: true,
            }),
            bootstrap: expect.objectContaining({
                bootstrapBucketName: 'bucketName',
            }),
            context: expect.anything(),
            acknowledge: expect.anything(),
            deploy: expect.anything(),
            destroy: expect.anything(),
            diff: expect.anything(),
            init: expect.anything(),
            metadata: expect.anything(),
            migrate: expect.anything(),
            rollback: expect.anything(),
            synth: expect.anything(),
            watch: expect.anything(),
            notices: expect.anything(),
            import: expect.anything(),
            gc: expect.anything(),
            doctor: expect.anything(),
            docs: expect.anything(),
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xpLWFyZ3VtZW50cy50ZXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiY2xpLWFyZ3VtZW50cy50ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsd0VBQWlHO0FBQ2pHLHNGQUFnRjtBQUVoRixRQUFRLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtJQUNyQixJQUFJLENBQUMsZ0RBQWdELEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDaEUsTUFBTSxLQUFLLEdBQUcsTUFBTSxJQUFBLHdEQUF5QixFQUFDLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUU5RSxNQUFNLE1BQU0sR0FBRyxJQUFBLCtDQUF1QixFQUFDLEtBQUssQ0FBQyxDQUFDO1FBRTlDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUM7WUFDckIsT0FBTyxFQUFFLFFBQVE7WUFDakIsYUFBYSxFQUFFO2dCQUNiLEdBQUcsRUFBRSxTQUFTO2dCQUNkLGFBQWEsRUFBRSxTQUFTO2dCQUN4QixLQUFLLEVBQUUsU0FBUztnQkFDaEIsWUFBWSxFQUFFLFNBQVM7Z0JBQ3ZCLE9BQU8sRUFBRSxFQUFFO2dCQUNYLFlBQVksRUFBRSxLQUFLO2dCQUNuQixPQUFPLEVBQUUsS0FBSztnQkFDZCxZQUFZLEVBQUUsU0FBUztnQkFDdkIsTUFBTSxFQUFFLEVBQUU7Z0JBQ1YsT0FBTyxFQUFFLFNBQVM7Z0JBQ2xCLEtBQUssRUFBRSxTQUFTO2dCQUNoQixPQUFPLEVBQUUsU0FBUztnQkFDbEIsT0FBTyxFQUFFLElBQUk7Z0JBQ2IsTUFBTSxFQUFFLFNBQVM7Z0JBQ2pCLE9BQU8sRUFBRSxDQUFDO2dCQUNWLGdCQUFnQixFQUFFLFNBQVM7Z0JBQzNCLEVBQUUsRUFBRSxJQUFJO2dCQUNSLEtBQUssRUFBRSxLQUFLO2dCQUNaLFFBQVEsRUFBRSxTQUFTO2dCQUNuQixJQUFJLEVBQUUsS0FBSztnQkFDWCxPQUFPLEVB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QixJQUFJLEVBQUUsTUFBTSxDQUFDLFFBQVEsRUFBRTtTQUN4QixDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29udmVydENvbmZpZ1RvVXNlcklucHV0LCBjb252ZXJ0WWFyZ3NUb1VzZXJJbnB1dCB9IGZyb20gJy4uL2xpYi9jb252ZXJ0LXRvLXVzZXItaW5wdXQnO1xuaW1wb3J0IHsgcGFyc2VDb21tYW5kTGluZUFyZ3VtZW50cyB9IGZyb20gJy4uL2xpYi9wYXJzZS1jb21tYW5kLWxpbmUtYXJndW1lbnRzJztcblxuZGVzY3JpYmUoJ3lhcmdzJywgKCkgPT4ge1xuICB0ZXN0KCd5YXJncyBvYmplY3QgY2FuIGJlIGNvbnZlcnRlZCB0byBjbGkgYXJndW1lbnRzJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGlucHV0ID0gYXdhaXQgcGFyc2VDb21tYW5kTGluZUFyZ3VtZW50cyhbJ2RlcGxveScsICctUicsICctdicsICctLWNpJ10pO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gY29udmVydFlhcmdzVG9Vc2VySW5wdXQoaW5wdXQpO1xuXG4gICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbCh7XG4gICAgICBjb21tYW5kOiAnZGVwbG95JyxcbiAgICAgIGdsb2JhbE9wdGlvbnM6IHtcbiAgICAgICAgYXBwOiB1bmRlZmluZWQsXG4gICAgICAgIGFzc2V0TWV0YWRhdGE6IHVuZGVmaW5lZCxcbiAgICAgICAgYnVpbGQ6IHVuZGVmaW5lZCxcbiAgICAgICAgY2FCdW5kbGVQYXRoOiB1bmRlZmluZWQsXG4gICAgICAgIGNvbnRleHQ6IFtdLFxuICAgICAgICBpZ25vcmVFcnJvcnM6IGZhbHNlLFxuICAgICAgICBub0NvbG9yOiBmYWxzZSxcbiAgICAgICAgcGF0aE1ldGFkYXRhOiB1bmRlZmluZWQsXG4gICAgICAgIHBsdWdpbjogW10sXG4gICAgICAgIHByb2ZpbGU6IHVuZGVmaW5lZCxcbiAgICAgICAgcHJveHk6IHVuZGVmaW5lZCxcbiAgICAgICAgcm9sZUFybjogdW5kZWZpbmVkLFxuICAgICAgICBzdGFnaW5nOiB0cnVlLFxuICAgICAgICBzdHJpY3Q6IHVuZGVmaW5lZCxcbiAgICAgICAgdmVyYm9zZTogMSxcbiAgICAgICAgdmVyc2lvblJlcG9ydGluZzogdW5kZWZpbmVkLFxuICAgICAgICBjaTogdHJ1ZSxcbiAgICAgICAgZGVidWc6IGZhbHNlLFxuICAgICAgICBlYzJjcmVkczogdW5kZWZpbmVkLFxuICAgICAgICBqc29uOiBmYWxzZSxcbiAgICAgICAgbG9va3VwczogdHJ1ZSxcbiAgICAgICAgdHJhY2U6IHVuZGVmaW5lZCxcbiAgICAgICAgdW5zdGFibGU6IFtdLFxuICAgICAgICBub3RpY2VzOiB1bmRlZmluZWQsXG4gICAgICAgIG91dHB1dDogdW5kZWZpbmVkLFxuICAgICAgfSxcbiAgICAgIGRlcGxveToge1xuICAgICAgICBTVEFDS1M6IHVuZGVmaW5lZCxcbiAgICAgICAgYWxsOiBmYWxzZSxcbiAgICAgICAgYXNzZXRQYXJhbGxlbGlzbTogdW5kZWZpbmVkLFxuICAgICAgICBhc3NldFByZWJ1aWxkOiB0cnVlLFxuICAgICAgICBidWlsZEV4Y2x1ZGU6IFtdLFxuICAgICAgICBjaGFuZ2VTZXROYW1lOiB1bmRlZmluZWQsXG4gICAgICAgIGNvbmN1cnJlbmN5OiAxLFxuICAgICAgICBleGVjdXRlOiB1bmRlZmluZWQsXG4gICAgICAgIGV4Y2x1c2l2ZWx5OiB1bmRlZmluZWQsXG4gICAgICAgIGZvcmNlOiBmYWxzZSxcbiAgICAgICAgaG90c3dhcDogdW5kZWZpbmVkLFxuICAgICAgICBob3Rzd2FwRmFsbGJhY2s6IHVuZGVmaW5lZCxcbiAgICAgICAgaWdub3JlTm9TdGFja3M6IGZhbHNlLFxuICAgICAgICBpbXBvcnRFeGlzdGluZ1Jlc291cmNlczogZmFsc2UsXG4gICAgICAgIGxvZ3M6IHRydWUsXG4gICAgICAgIG1ldGhvZDogdW5kZWZpbmVkLFxuICAgICAgICBub3RpZmljYXRpb25Bcm5zOiB1bmRlZmluZWQsXG4gICAgICAgIG91dHB1dHNGaWxlOiB1bmRlZmluZWQsXG4gICAgICAgIHBhcmFtZXRlcnM6IFt7fV0sXG4gICAgICAgIHByZXZpb3VzUGFyYW1ldGVyczogdHJ1ZSxcbiAgICAgICAgcHJvZ3Jlc3M6IHVuZGVmaW5lZCxcbiAgICAgICAgcmVxdWlyZUFwcHJvdmFsOiB1bmRlZmluZWQsXG4gICAgICAgIHJvbGxiYWNrOiBmYWxzZSxcbiAgICAgICAgdGFnczogW10sXG4gICAgICAgIHRvb2xraXRTdGFja05hbWU6IHVuZGVmaW5lZCxcbiAgICAgICAgd2F0Y2g6IHVuZGVmaW5lZCxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pO1xuXG4gIHRlc3QoJ3Bvc2l0aW9uYWwgYXJndW1lbnQgaXMgY29ycmVjdGx5IHBhc3NlZCB0aHJvdWdoIC0tIHZhcmlhZGljJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGlucHV0ID0gYXdhaXQgcGFyc2VDb21tYW5kTGluZUFyZ3VtZW50cyhbJ2RlcGxveScsICdzdGFjazEnLCAnc3RhY2syJywgJy1SJywgJy12JywgJy0tY2knXSk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBjb252ZXJ0WWFyZ3NUb1VzZXJJbnB1dChpbnB1dCk7XG5cbiAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKHtcbiAgICAgIGNvbW1hbmQ6ICdkZXBsb3knLFxuICAgICAgZGVwbG95OiBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgIFNUQUNLUzogWydzdGFjazEnLCAnc3RhY2syJ10sXG4gICAgICB9KSxcbiAgICAgIGdsb2JhbE9wdGlvbnM6IGV4cGVjdC5hbnl0aGluZygpLFxuICAgIH0pO1xuICB9KTtcblxuICB0ZXN0KCdwb3NpdGlvbmFsIGFyZ3VtZW50IGlzIGNvcnJlY3RseSBwYXNzZWQgdGhyb3VnaCAtLSBzaW5nbGUnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgaW5wdXQgPSBhd2FpdCBwYXJzZUNvbW1hbmRMaW5lQXJndW1lbnRzKFsnYWNrbm93bGVkZ2UnLCAnaWQxJywgJy12JywgJy0tY2knXSk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBjb252ZXJ0WWFyZ3NUb1VzZXJJbnB1dChpbnB1dCk7XG5cbiAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKHtcbiAgICAgIGNvbW1hbmQ6ICdhY2tub3dsZWRnZScsXG4gICAgICBhY2tub3dsZWRnZTogZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICBJRDogJ2lkMScsXG4gICAgICB9KSxcbiAgICAgIGdsb2JhbE9wdGlvbnM6IGV4cGVjdC5hbnl0aGluZygpLFxuICAgIH0pO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnY29uZmlnJywgKCkgPT4ge1xuICB0ZXN0KCdjZGsuanNvbiBhcmd1bWVudHMgY2FuIGJlIGNvbnZlcnRlZCB0byBjbGkgYXJndW1ldHMnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgaW5wdXQgPSB7XG4gICAgICBvdXRwdXQ6ICdibGFoLm91dCcsXG4gICAgICBidWlsZDogJ3lhcm4gYnVpbGQnLFxuICAgICAgbGlzdDoge1xuICAgICAgICBsb25nOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIGJvb3RzdHJhcDoge1xuICAgICAgICBib290c3RyYXBCdWNrZXROYW1lOiAnYnVja2V0TmFtZScsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBjb25zdCByZXN1bHQgPSBjb252ZXJ0Q29uZmlnVG9Vc2VySW5wdXQoaW5wdXQpO1xuXG4gICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbCh7XG4gICAgICBnbG9iYWxPcHRpb25zOiBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgIG91dHB1dDogJ2JsYWgub3V0JyxcbiAgICAgICAgYnVpbGQ6ICd5YXJuIGJ1aWxkJyxcbiAgICAgIH0pLFxuICAgICAgbGlzdDogZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICBsb25nOiB0cnVlLFxuICAgICAgfSksXG4gICAgICBib290c3RyYXA6IGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgYm9vdHN0cmFwQnVja2V0TmFtZTogJ2J1Y2tldE5hbWUnLFxuICAgICAgfSksXG4gICAgICBjb250ZXh0OiBleHBlY3QuYW55dGhpbmcoKSxcbiAgICAgIGFja25vd2xlZGdlOiBleHBlY3QuYW55dGhpbmcoKSxcbiAgICAgIGRlcGxveTogZXhwZWN0LmFueXRoaW5nKCksXG4gICAgICBkZXN0cm95OiBleHBlY3QuYW55dGhpbmcoKSxcbiAgICAgIGRpZmY6IGV4cGVjdC5hbnl0aGluZygpLFxuICAgICAgaW5pdDogZXhwZWN0LmFueXRoaW5nKCksXG4gICAgICBtZXRhZGF0YTogZXhwZWN0LmFueXRoaW5nKCksXG4gICAgICBtaWdyYXRlOiBleHBlY3QuYW55dGhpbmcoKSxcbiAgICAgIHJvbGxiYWNrOiBleHBlY3QuYW55dGhpbmcoKSxcbiAgICAgIHN5bnRoOiBleHBlY3QuYW55dGhpbmcoKSxcbiAgICAgIHdhdGNoOiBleHBlY3QuYW55dGhpbmcoKSxcbiAgICAgIG5vdGljZXM6IGV4cGVjdC5hbnl0aGluZygpLFxuICAgICAgaW1wb3J0OiBleHBlY3QuYW55dGhpbmcoKSxcbiAgICAgIGdjOiBleHBlY3QuYW55dGhpbmcoKSxcbiAgICAgIGRvY3RvcjogZXhwZWN0LmFueXRoaW5nKCksXG4gICAgICBkb2NzOiBleHBlY3QuYW55dGhpbmcoKSxcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdfQ==